<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Reserva ‚Ä¢ Mercatto Del√≠cia</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <meta name="theme-color" content="#0b0e13">
  <link rel="icon" href="https://github.com/grupodvbr/aniversariosmercatto/blob/main/paste/Imagem%20do%20WhatsApp%20de%202025-08-27%20%C3%A0(s)%2010.13.55_d0cbe205.jpg?raw=true">

  <style>
    :root{
      --brand:#22c55e;--brand2:#16a34a;--bg:#0b0e13;--text:#f5f7fb;--muted:#c9ced8;--line:rgba(255,255,255,.12);
    }
    *{box-sizing:border-box}
    body{
      margin:0;padding:1.5rem;background:var(--bg);color:var(--text);
      font-family:system-ui,Arial,sans-serif;display:flex;justify-content:center;align-items:center;
      min-height:100vh;
    }
    form{
      background:#0c1017;border-radius:16px;padding:1.5rem;width:100%;max-width:420px;
      box-shadow:0 0 20px rgba(0,0,0,.4);
    }
    h2{text-align:center;color:var(--brand);margin-bottom:1.5rem;font-weight:800;font-size:1.2rem;}
    label{font-weight:600;font-size:13px;display:block;margin-bottom:4px;}
    input,textarea,button{
      width:100%;padding:12px;border-radius:12px;border:1px solid var(--line);
      background:#0f131a;color:var(--text);font-size:15px;margin-bottom:14px;
    }
    textarea{resize:none}
    button{
      background:linear-gradient(180deg,var(--brand),var(--brand2));border:none;font-weight:800;
      cursor:pointer;color:#fff;transition:filter .2s ease,transform .05s ease;
    }
    button:active{transform:translateY(1px)}
    button:hover{filter:brightness(1.05)}
    .spinner{display:none;text-align:center;color:var(--muted);margin-top:10px;font-size:14px;}
    .spinner.show{display:block}
  </style>
</head>
<body>

<form id="reservaForm" novalidate>
  <h2>üìÖ Reserva Mercatto Del√≠cia</h2>

  <label>Nome</label>
  <input type="text" name="nome" required placeholder="Seu nome completo">

  <label>Email</label>
  <input type="email" name="email" required placeholder="seu@email.com">

  <label>Telefone</label>
  <input type="tel" name="telefone" required placeholder="(DDD) 9 0000-0000">

  <label>N¬∫ de pessoas</label>
  <input type="number" name="pessoas" min="1" required placeholder="Quantidade de pessoas">

  <label>Data e hora</label>
  <input type="datetime-local" name="datahora" required>

  <label>Observa√ß√µes</label>
  <textarea name="obs" rows="3" placeholder="Prefer√™ncias, aniversariante, decora√ß√£o..."></textarea>

  <button type="submit">Enviar Reserva</button>
  <div class="spinner" id="spinner">‚¨§ Enviando reserva...</div>
</form>

<script>
const FORM = document.getElementById("reservaForm");
const SPINNER = document.getElementById("spinner");
const GAS_ENDPOINT = "https://script.google.com/macros/s/AKfycbwzvibdkhqCtp8b_P1AKM47ofX7HRurEnX5evFauVO9KtQ5a8I5mED50D5EJBCvKj5HFQ/exec"; // substitua pelo link implantado

function isValidEmail(email){
  return /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(email.trim());
}

FORM.addEventListener("submit", async e=>{
  e.preventDefault();
  SPINNER.classList.add("show");

  const data = Object.fromEntries(new FormData(FORM).entries());
  if(!isValidEmail(data.email)){
    alert("‚ùó Informe um e-mail v√°lido.");
    SPINNER.classList.remove("show");
    return;
  }

  try{
    const res = await fetch(GAS_ENDPOINT, {
      method:"POST",
      body:JSON.stringify(data),
      headers:{"Content-Type":"application/json"}
    });
    const resp = await res.json();
    if(resp.sucesso){
      alert("‚úÖ Reserva enviada com sucesso!");
      FORM.reset();
    }else{
      alert("‚ö†Ô∏è Erro: " + resp.erro);
    }
  }catch(err){
    alert("Erro ao enviar reserva. Verifique sua conex√£o.");
  }finally{
    SPINNER.classList.remove("show");
  }
});
</script>

</body>
</html>
